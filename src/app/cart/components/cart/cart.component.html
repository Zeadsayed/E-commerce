<div class="container">
    <div class="row">

        <div class="col-lg-12 col-md-10 w-100 mx-auto">

            <div class="alert alert-success m-5" role="alert" *ngIf="success"><strong>Well done!</strong> Your Order is Successfully Send</div>

            <div class="cartBox p-3">
                <h1 class="text-danger text-center m-3">Shopping Cart <i class="fa-solid fa-cart-shopping"></i></h1>
                <div class="headCart">
                    <p class="lead mx-3"><i class="fa-solid fa-comment"></i> You have <label class="text-danger ">{{cartProducts.length}}</label> item in your cart</p>
                    <span class="text-danger card-header p-2 btn btn-outline-light" (click)="clearCart()">Clear Shopping Cart</span>
                </div>
                <table class="table table-responsive">
                    <thead>
                        <tr>
                            <th ></th>
                            <th>Name</th>
                            <th>Price</th>
                            <th style="width: 25%;">Quantity</th>
                            <th>Total</th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let item of cartProducts; let index = index" >
                            <td><img src="{{item.item.image}}" alt=""></td>
                            <td>{{item.item.title}}</td>
                            <td>{{item.item.price}} L.E</td>
                            <td>
                                <div class="quantity">
                                    <button class="btn btn-dark" (click)="addAmount(index)" >+</button>
                                    <input class="form-control"  type="number" (change)="detectChange()" [(ngModel)]="item.quantity" min="1">
                                    <button class="btn btn-dark" (click)="minsAmount(index)" >-</button>
                                </div>
                            </td>
                            <td>{{item.item.price * item.quantity | number:'1.1-1'}} L.E</td>
                            <td>
                                <button class="btn btn-danger" (click)="deleteProduct(index)" >Delete</button>
                            </td>
                        </tr>
                    </tbody>
                    <tfoot>
                        <tr>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th>Total : {{total | number:'1.1-1'}} LE</th>
                            <th><button class="btn btn-success" (click)="addCart()">Order Now</button></th>
                        </tr>
                    </tfoot>
                </table>

            </div>
        </div>
    </div>
</div>
